# API Gateway V2 Configuration Template
# Copy this file to .env and fill in your actual values

# ==========================================
# SERVER CONFIGURATION
# ==========================================
PORT=3000
NODE_ENV=development
HOST=localhost

# ==========================================
# DATABASE CONFIGURATION
# ==========================================
MONGODB_URI=mongodb://localhost:27017/api-gateway-v2
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
QUEUE_REDIS_DB=1

# ==========================================
# AUTHENTICATION & SECURITY
# ==========================================
JWT_SECRET=your-super-secret-jwt-key-change-in-production-32-chars-minimum
JWT_EXPIRES_IN=24h
BCRYPT_ROUNDS=12

# CORS Configuration
ALLOWED_ORIGINS=http://localhost:3001,http://localhost:3000

# ==========================================
# AI PROVIDER API KEYS
# ==========================================
OPENAI_API_KEY=your_openai_api_key_here
ANTHROPIC_API_KEY=your_anthropic_api_key_here
AZURE_OPENAI_API_KEY=your_azure_openai_api_key_here
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/

# ==========================================
# BATCH PROCESSING CONFIGURATION
# ==========================================
MAX_BATCH_SIZE=10
BATCH_WINDOW_MS=200
ENABLE_BATCH_PROCESSING=true

# ==========================================
# CACHE CONFIGURATION
# ==========================================
CACHE_TTL_DEFAULT=300
CACHE_TTL_LONG=3600
CACHE_TTL_SESSION=86400
CACHE_TTL_USER=1800

# ==========================================
# RATE LIMITING
# ==========================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false
RATE_LIMIT_SKIP_FAILED_REQUESTS=false

# ==========================================
# MONITORING & LOGGING
# ==========================================
LOG_LEVEL=info
PROMETHEUS_PORT=9090
ENABLE_PROMETHEUS_METRICS=true

# ==========================================
# COST CONFIGURATION (CNY per 1000 tokens)
# ==========================================
COST_OPENAI_GPT4=30
COST_OPENAI_GPT4_TURBO=10
COST_OPENAI_GPT35=2
COST_CLAUDE3_OPUS=15
COST_CLAUDE3_SONNET=3
COST_CLAUDE3_HAIKU=0.25
COST_EMBEDDING_ADA=0.1

# ==========================================
# DEFAULT USER QUOTAS
# ==========================================
DEFAULT_REQUESTS_PER_HOUR=1000
DEFAULT_REQUESTS_PER_DAY=10000
DEFAULT_TOKENS_PER_MONTH=1000000
DEFAULT_COST_LIMIT_PER_MONTH=100.0

# ==========================================
# ADMIN CONFIGURATION
# ==========================================
ADMIN_EMAIL=admin@example.com
ADMIN_USERNAME=admin
ADMIN_PASSWORD=change-this-password-in-production

# ==========================================
# EMAIL CONFIGURATION (Optional)
# ==========================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
FROM_EMAIL=noreply@api-gateway.com

# ==========================================
# FILE UPLOAD CONFIGURATION
# ==========================================
MAX_FILE_SIZE=10485760
UPLOAD_PATH=./uploads
ALLOWED_FILE_TYPES=pdf,txt,md,json,csv

# ==========================================
# EXTERNAL SERVICES (Optional)
# ==========================================
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR/DISCORD/WEBHOOK

# ==========================================
# FEATURE FLAGS
# ==========================================
ENABLE_USER_REGISTRATION=true
ENABLE_API_KEYS=true
ENABLE_BATCH_PROCESSING=true
ENABLE_COST_TRACKING=true
ENABLE_RATE_LIMITING=true
ENABLE_AUDIT_LOG=true

# ==========================================
# DEBUGGING (Development only)
# ==========================================
DEBUG_MODE=false
LOG_QUERIES=false
LOG_REQUESTS=false
LOG_RESPONSES=false
