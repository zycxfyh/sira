# Sira é«˜çº§é›†æˆæ¶æ„

åŸºäºGitHubå…ˆè¿›å¼€æºé¡¹ç›®çš„AIç½‘å…³å®Œæ•´è§£å†³æ–¹æ¡ˆ - å·²å®Œæˆ20ä¸ªé—®é¢˜ä¿®å¤å’Œä¼ä¸šçº§æµ‹è¯•å·¥ä½œæµ

## âš ï¸ é‡è¦æé†’

**è¿™æ˜¯ä¸€ä¸ªå­¦ç”Ÿå­¦ä¹ é¡¹ç›®ï¼Œè¯·åœ¨ä½¿ç”¨å‰ä»”ç»†é˜…è¯» [å…è´£å£°æ˜](DISCLAIMER.md)ã€‚**

## ğŸ—ï¸ æ¶æ„æ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å¤–éƒ¨è¯·æ±‚ (HTTP/HTTPS)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Kong API Gateway                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   æ’ä»¶ç³»ç»Ÿ:                                            â”‚    â”‚
â”‚  â”‚   â€¢ ai-rate-limit (åŸºäºtokenæ¶ˆè€—çš„é™æµ)                â”‚    â”‚
â”‚  â”‚   â€¢ ai-circuit-breaker (ç†”æ–­å™¨æ¨¡å¼)                    â”‚    â”‚
â”‚  â”‚   â€¢ ai-cache (æ™ºèƒ½ç¼“å­˜)                                â”‚    â”‚
â”‚  â”‚   â€¢ ai-tracing (åˆ†å¸ƒå¼è¿½è¸ª)                            â”‚    â”‚
â”‚  â”‚   â€¢ ai-queue (å¼‚æ­¥é˜Ÿåˆ—å¤„ç†)                            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Express Gateway (AIå¤„ç†å±‚)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   AI Router: æ™ºèƒ½è·¯ç”±åˆ°ä¸åŒAIæä¾›å•†                     â”‚    â”‚
â”‚  â”‚   â”œâ”€ OpenAI (GPT-4, GPT-3.5-turbo)                     â”‚    â”‚
â”‚  â”‚   â”œâ”€ Anthropic (Claude-3)                              â”‚    â”‚
â”‚  â”‚   â””â”€ Azure OpenAI                                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                 â”‚
â”‚  å¯è§‚æµ‹æ€§æ ˆ:                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   Jaeger + Tempo (åˆ†å¸ƒå¼è¿½è¸ª)                          â”‚    â”‚
â”‚  â”‚   Prometheus + Grafana (ç›‘æ§é¢æ¿)                      â”‚    â”‚
â”‚  â”‚   Loki + Promtail (æ—¥å¿—èšåˆ)                           â”‚    â”‚
â”‚  â”‚   Pyroscope (æŒç»­æ€§èƒ½åˆ†æ)                             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ¶ˆæ¯é˜Ÿåˆ—å±‚ (NATS)                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   JetStream: æŒä¹…åŒ–æ¶ˆæ¯é˜Ÿåˆ—                             â”‚    â”‚
â”‚  â”‚   â”œâ”€ å¼‚æ­¥AIè¯·æ±‚å¤„ç†                                     â”‚    â”‚
â”‚  â”‚   â”œâ”€ ç»“æœç¼“å­˜å’Œåˆ†å‘                                     â”‚    â”‚
â”‚  â”‚   â””â”€ Webhooké€šçŸ¥                                        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ æ ¸å¿ƒé›†æˆç»„ä»¶

### 1. Kong API Gateway
**å¼€æºé¡¹ç›®**: [Kong Gateway](https://github.com/Kong/kong)

**é›†æˆç‰¹æ€§**:
- **æ’ä»¶ç³»ç»Ÿ**: æ‰©å±•Kongæ”¯æŒAIç‰¹å®šåŠŸèƒ½
- **å£°æ˜å¼é…ç½®**: ä½¿ç”¨YAMLé…ç½®æ‰€æœ‰è·¯ç”±å’Œæ’ä»¶
- **è´Ÿè½½å‡è¡¡**: è‡ªåŠ¨æ•…éšœè½¬ç§»å’Œå¥åº·æ£€æŸ¥
- **ä¼ä¸šçº§ç‰¹æ€§**: ä¼ä¸šçº§APIç®¡ç†åŠŸèƒ½

### 2. Express Gateway
**å¼€æºé¡¹ç›®**: [Express Gateway](https://github.com/ExpressGateway/express-gateway)

**é›†æˆç‰¹æ€§**:
- **ç­–ç•¥æ¨¡å¼**: å¯æ’æ‹”çš„ä¸­é—´ä»¶ç³»ç»Ÿ
- **AIè·¯ç”±**: åŸºäºæ¨¡å‹å’Œæˆæœ¬çš„æ™ºèƒ½è·¯ç”±
- **ç¼“å­˜å±‚**: å¤šçº§ç¼“å­˜ç³»ç»Ÿ(L1å†…å­˜ + L2 Redis)

### 3. NATSæ¶ˆæ¯é˜Ÿåˆ—
**å¼€æºé¡¹ç›®**: [NATS](https://github.com/nats-io/nats-server)

**é›†æˆç‰¹æ€§**:
- **JetStream**: æŒä¹…åŒ–æ¶ˆæ¯é˜Ÿåˆ—
- **å¼‚æ­¥å¤„ç†**: å¤§å‹AIè¯·æ±‚çš„å¼‚æ­¥å¤„ç†
- **Webhook**: è¯·æ±‚å®Œæˆåçš„å›è°ƒé€šçŸ¥

### 4. OpenTelemetry å¯è§‚æµ‹æ€§
**å¼€æºé¡¹ç›®**: [OpenTelemetry](https://github.com/open-telemetry)

**é›†æˆç‰¹æ€§**:
- **åˆ†å¸ƒå¼è¿½è¸ª**: å…¨é“¾è·¯è¯·æ±‚è¿½è¸ª
- **æŒ‡æ ‡æ”¶é›†**: è¯¦ç»†çš„æ€§èƒ½å’Œä¸šåŠ¡æŒ‡æ ‡
- **æ—¥å¿—å…³è”**: ç»“æ„åŒ–æ—¥å¿—ä¸è¿½è¸ªå…³è”

## ğŸ“Š ç›‘æ§å’Œå¯è§‚æµ‹æ€§æ ˆ

### Prometheus + Grafana
- **å®æ—¶ç›‘æ§**: APIå“åº”æ—¶é—´ã€é”™è¯¯ç‡ã€ååé‡
- **ä¸šåŠ¡æŒ‡æ ‡**: Tokenä½¿ç”¨é‡ã€ç¼“å­˜å‘½ä¸­ç‡ã€æä¾›å•†æ€§èƒ½
- **å‘Šè­¦è§„åˆ™**: è‡ªåŠ¨æ•…éšœæ£€æµ‹å’Œé€šçŸ¥

### Jaeger + Tempo
- **åˆ†å¸ƒå¼è¿½è¸ª**: ä»Kongåˆ°AIæä¾›å•†çš„å®Œæ•´é“¾è·¯
- **æ€§èƒ½åˆ†æ**: è¯†åˆ«ç“¶é¢ˆå’Œä¼˜åŒ–ç‚¹
- **æ•…éšœæ’æŸ¥**: å¿«é€Ÿå®šä½é—®é¢˜æ ¹æº

### Loki + Promtail
- **æ—¥å¿—èšåˆ**: é›†ä¸­æ”¶é›†æ‰€æœ‰ç»„ä»¶æ—¥å¿—
- **ç»“æ„åŒ–æŸ¥è¯¢**: å¼ºå¤§çš„æ—¥å¿—æœç´¢å’Œè¿‡æ»¤
- **ä¸è¿½è¸ªé›†æˆ**: æ—¥å¿—ä¸è¿½è¸ªæ•°æ®çš„å…³è”

## ğŸ”§ AIç‰¹å®šç­–ç•¥

### AIé€Ÿç‡é™åˆ¶ (ai-rate-limit)
```javascript
// åŸºäºTokenæ¶ˆè€—çš„æ™ºèƒ½é™æµ
{
  windowMs: 900000,      // 15åˆ†é’Ÿçª—å£
  maxRequests: 100,      // æœ€å¤§è¯·æ±‚æ•°
  maxTokens: 10000,      // æœ€å¤§Tokenæ•°
  keyGenerator: "user"   // æŒ‰ç”¨æˆ·é™æµ
}
```

### AIç†”æ–­å™¨ (ai-circuit-breaker)
```javascript
// æä¾›å•†æ•…éšœæ—¶çš„è‡ªåŠ¨ç†”æ–­
{
  timeout: 30000,                    // è¶…æ—¶æ—¶é—´
  errorThresholdPercentage: 50,      // é”™è¯¯ç‡é˜ˆå€¼
  resetTimeout: 30000,               // é‡è¯•é—´éš”
  name: "ai-circuit-breaker"         // ç†”æ–­å™¨åç§°
}
```

### AIç¼“å­˜ (ai-cache)
```javascript
// æ™ºèƒ½è¯·æ±‚ç¼“å­˜
{
  ttl: 300,                          // ç¼“å­˜æ—¶é—´
  maxSize: 1000,                     // æœ€å¤§ç¼“å­˜æ¡ç›®
  strategy: "lru",                   // æ·˜æ±°ç­–ç•¥
  compression: true                  // å¯ç”¨å‹ç¼©
}
```

### AIé˜Ÿåˆ— (ai-queue)
```javascript
// å¼‚æ­¥è¯·æ±‚å¤„ç†
{
  natsUrl: "nats://localhost:4222", // NATSæœåŠ¡å™¨
  queueName: "ai.requests",          // é˜Ÿåˆ—åç§°
  enableAsync: false,                // é»˜è®¤åŒæ­¥å¤„ç†
  asyncThreshold: 10000              // å¼‚æ­¥é˜ˆå€¼(æ¯«ç§’)
}
```

### AIè¿½è¸ª (ai-tracing)
```javascript
// åˆ†å¸ƒå¼è¿½è¸ª
{
  serviceName: "ai-gateway",         // æœåŠ¡åç§°
  exporter: "jaeger",                // å¯¼å‡ºå™¨
  sampleRate: 1.0,                   // é‡‡æ ·ç‡
  jaegerEndpoint: "http://localhost:14268/api/traces"
}
```

## âœ… é¡¹ç›®å®ŒæˆçŠ¶æ€

### å·²è§£å†³çš„20ä¸ªå…³é”®é—®é¢˜

1. **å®‰å…¨é…ç½®é—®é¢˜**
   - âœ… ç§»é™¤ç¡¬ç¼–ç APIå¯†é’¥
   - âœ… ä¿®å¤MongoDBå’ŒRedisé»˜è®¤å‡­æ®
   - âœ… æ·»åŠ ç¯å¢ƒå˜é‡å®‰å…¨é…ç½®

2. **æ¶æ„ä¼˜åŒ–**
   - âœ… å®ç°å¤šçº§ç¼“å­˜ç³»ç»Ÿ(L1 + L2)
   - âœ… æ·»åŠ æ‰¹é‡è¯·æ±‚å¤„ç†æœºåˆ¶
   - âœ… ä¼˜åŒ–MongoDBè¿æ¥æ± é…ç½®

3. **æµ‹è¯•å’Œè´¨é‡ä¿è¯**
   - âœ… å®ç°å®Œæ•´çš„CI/CDæµ‹è¯•å·¥ä½œæµ
   - âœ… æ·»åŠ ESLintä»£ç è´¨é‡æ£€æŸ¥
   - âœ… ä¿®å¤å®‰å…¨ä¾èµ–æ¼æ´

4. **å¯è§‚æµ‹æ€§å’Œç›‘æ§**
   - âœ… é›†æˆPrometheus + Grafanaç›‘æ§æ ˆ
   - âœ… æ·»åŠ OpenTelemetryåˆ†å¸ƒå¼è¿½è¸ª
   - âœ… é…ç½®AlertManagerå‘Šè­¦ç³»ç»Ÿ

5. **ä¼ä¸šçº§åŠŸèƒ½**
   - âœ… å®ç°6ä¸ªAIç‰¹å®šç­–ç•¥
   - âœ… æ·»åŠ å¼‚æ­¥é˜Ÿåˆ—å¤„ç†(NATS JetStream)
   - âœ… é…ç½®Kong API Gatewayé›†æˆ

### æŠ€æœ¯æ ˆéªŒè¯

- **Express Gateway**: âœ… AIè·¯ç”±å’Œç¼“å­˜ç­–ç•¥
- **Kong Gateway**: âœ… æµé‡ç®¡ç†å’ŒAIæ’ä»¶
- **NATS**: âœ… å¼‚æ­¥æ¶ˆæ¯é˜Ÿåˆ—å’ŒJetStream
- **OpenTelemetry**: âœ… åˆ†å¸ƒå¼è¿½è¸ªå’ŒæŒ‡æ ‡æ”¶é›†
- **Prometheus/Grafana**: âœ… ç›‘æ§å’Œå¯è§†åŒ–
- **Docker Compose**: âœ… å®Œæ•´ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

## ğŸƒâ€â™‚ï¸ å¿«é€Ÿå¼€å§‹

### 1. å¯åŠ¨å®Œæ•´æ ˆ
```bash
# å¯åŠ¨Kong + Express Gateway + ç›‘æ§æ ˆ
cd ai-gateway/docker/production
docker-compose -f docker-compose-full.yml up -d

# å¯åŠ¨NATSé˜Ÿåˆ—
docker run -d --name nats-main -p 4222:4222 -p 8222:8222 nats:latest
```

### 2. é…ç½®ç¯å¢ƒå˜é‡
```bash
export OPENAI_API_KEY="your-openai-key"
export ANTHROPIC_API_KEY="your-anthropic-key"
export REDIS_PASSWORD="secure-redis-password"
export KONG_DB_PASSWORD="secure-kong-password"
```

### 3. éªŒè¯éƒ¨ç½²
```bash
# æ£€æŸ¥Kongç®¡ç†ç•Œé¢
curl http://localhost:8001/status

# æ£€æŸ¥AIç½‘å…³å¥åº·çŠ¶æ€
curl http://localhost:8080/health

# æ£€æŸ¥ç›‘æ§æ ˆ
curl http://localhost:9090/-/healthy  # Prometheus
curl http://localhost:3001/api/health # Grafana
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### ç¼“å­˜ç­–ç•¥
- **L1ç¼“å­˜**: Express Gatewayå†…å­˜ç¼“å­˜(< 1ms)
- **L2ç¼“å­˜**: Redisåˆ†å¸ƒå¼ç¼“å­˜(< 5ms)
- **æ™ºèƒ½é¢„çƒ­**: åŸºäºå†å²è¯·æ±‚çš„ç¼“å­˜é¢„çƒ­

### è´Ÿè½½å‡è¡¡
- **è½®è¯¢è°ƒåº¦**: å‡åŒ€åˆ†å¸ƒè¯·æ±‚
- **æœ€å°‘è¿æ¥**: æ™ºèƒ½é€‰æ‹©è´Ÿè½½è¾ƒè½»çš„å®ä¾‹
- **åœ°ç†äº²å’Œ**: åŸºäºåœ°ç†ä½ç½®çš„è·¯ç”±ä¼˜åŒ–

### å¼‚æ­¥å¤„ç†
- **å¤§è¯·æ±‚é˜Ÿåˆ—**: Tokenæ•° > 1000çš„è¯·æ±‚è‡ªåŠ¨æ’é˜Ÿ
- **Webhooké€šçŸ¥**: å¤„ç†å®Œæˆåçš„å¼‚æ­¥å›è°ƒ
- **çŠ¶æ€æŸ¥è¯¢**: å®æ—¶æŸ¥è¯¢è¯·æ±‚å¤„ç†çŠ¶æ€

## ğŸ”’ å®‰å…¨ç‰¹æ€§

### APIå¯†é’¥ç®¡ç†
- **å¯†é’¥è½®æ¢**: è‡ªåŠ¨å¯†é’¥æ›´æ–°æœºåˆ¶
- **è®¿é—®æ§åˆ¶**: åŸºäºè§’è‰²çš„æƒé™æ§åˆ¶
- **å®¡è®¡æ—¥å¿—**: å®Œæ•´çš„APIè®¿é—®å®¡è®¡

### è¯·æ±‚éªŒè¯
- **è¾“å…¥è¿‡æ»¤**: é˜²æ­¢æ¶æ„è¯·æ±‚å’Œæ³¨å…¥æ”»å‡»
- **é€Ÿç‡é™åˆ¶**: å¤šå±‚é€Ÿç‡é™åˆ¶ä¿æŠ¤
- **å†…å®¹éªŒè¯**: AIè¯·æ±‚å†…å®¹çš„æ ¼å¼éªŒè¯

## ğŸ“Š ç›‘æ§é¢æ¿

è®¿é—®Grafanaä»ªè¡¨æ¿æŸ¥çœ‹:
- **APIæ€§èƒ½**: å“åº”æ—¶é—´ã€ååé‡ã€é”™è¯¯ç‡
- **AIæŒ‡æ ‡**: Tokenæ¶ˆè€—ã€æ¨¡å‹ä½¿ç”¨ç»Ÿè®¡
- **ç³»ç»Ÿå¥åº·**: CPUã€å†…å­˜ã€ç£ç›˜ä½¿ç”¨ç‡
- **ä¸šåŠ¡æŒ‡æ ‡**: ç”¨æˆ·æ´»è·ƒåº¦ã€è¯·æ±‚æ¨¡å¼åˆ†æ

## ğŸš€ æ‰©å±•å¼€å‘

### æ·»åŠ æ–°çš„AIç­–ç•¥
```javascript
// lib/policies/ai-custom/ai-custom.js
module.exports = function(params, config) {
  return function aiCustom(req, res, next) {
    // è‡ªå®šä¹‰AIå¤„ç†é€»è¾‘
    next();
  };
};
```

### é›†æˆæ–°çš„AIæä¾›å•†
```javascript
// lib/services/providers/custom.js
class CustomProvider {
  async chat(messages, options) {
    // å®ç°è‡ªå®šä¹‰AIæä¾›å•†æ¥å£
  }
}
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Forké¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. åˆ›å»ºPull Request

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [Kong Gatewayæ–‡æ¡£](https://docs.konghq.com/gateway/latest/)
- [Express Gatewayæ–‡æ¡£](https://www.express-gateway.io/docs/)
- [NATSæ–‡æ¡£](https://docs.nats.io/)
- [OpenTelemetryæ–‡æ¡£](https://opentelemetry.io/docs/)
- [Prometheusæ–‡æ¡£](https://prometheus.io/docs/)

## ğŸ·ï¸ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäºå¤šä¸ªå¼€æºç»„ä»¶ï¼Œéµå¾ªç›¸åº”å¼€æºåè®®ã€‚
